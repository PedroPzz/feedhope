@{
    ViewData["Title"] = "Criar Conta - FeedHope";
}

<div class="container-fluid py-5" style="background: linear-gradient(135deg, #38a169 0%, #2f855a 50%, #276749 100%); min-height: 100vh;">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8">
                
                <!-- Card de Registro -->
                <div class="card shadow-lg border-0" style="border-radius: 15px; overflow: hidden;">
                    
                    <!-- Header -->
                    <div class="card-header bg-white text-center py-4 border-0">
                        <div class="mb-3">
                            <img src="~/images/leaf-icon.png" alt="FeedHope" style="width: 60px; height: 60px;">
                        </div>
                        <h3 class="text-success mb-2">Criar Conta no FeedHope</h3>
                        <p class="text-muted mb-0">Junte-se √† nossa rede sustent√°vel</p>
                    </div>
                    
                    <!-- Body -->
                    <div class="card-body p-4">
                        
                        <!-- Alertas -->
                        <div id="alert-container"></div>
                        
                        <!-- Formul√°rio de Registro -->
                        <form id="registroForm" novalidate>
                            
                            <!-- Dados Pessoais -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="nome" class="form-label">
                                        <i class="fas fa-user me-1"></i>
                                        Nome Completo *
                                    </label>
                                    <input type="text" class="form-control" id="nome" name="nome" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe seu nome completo.
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="cpf" class="form-label">
                                        <i class="fas fa-id-card me-1"></i>
                                        CPF *
                                    </label>
                                    <input type="text" class="form-control" id="cpf" name="cpf" 
                                           placeholder="000.000.000-00" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe um CPF v√°lido.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contato -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="email" class="form-label">
                                        <i class="fas fa-envelope me-1"></i>
                                        E-mail *
                                    </label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe um e-mail v√°lido.
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="telefone" class="form-label">
                                        <i class="fas fa-phone me-1"></i>
                                        Telefone *
                                    </label>
                                    <input type="tel" class="form-control" id="telefone" name="telefone" 
                                           placeholder="(00) 00000-0000" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe um telefone v√°lido.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tipo de Usu√°rio -->
                            <div class="mb-3">
                                <label for="tipoUsuario" class="form-label">
                                    <i class="fas fa-users me-1"></i>
                                    Tipo de Usu√°rio *
                                </label>
                                <select class="form-select" id="tipoUsuario" name="tipoUsuario" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="empresa">üè¢ Representante de Empresa</option>
                                    <option value="ufra">üéì Membro da UFRA</option>
                                    <option value="voluntario">ü§ù Volunt√°rio</option>
                                    <option value="parceiro">ü§ù Parceiro/ONG</option>
                                </select>
                                <div class="invalid-feedback">
                                    Por favor, selecione o tipo de usu√°rio.
                                </div>
                            </div>
                            
                            <!-- Informa√ß√µes Adicionais (condicionais) -->
                            <div id="camposEmpresa" class="d-none">
                                <div class="row mb-3">
                                    <div class="col-md-8">
                                        <label for="nomeEmpresa" class="form-label">
                                            <i class="fas fa-building me-1"></i>
                                            Nome da Empresa
                                        </label>
                                        <input type="text" class="form-control" id="nomeEmpresa" name="nomeEmpresa">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="cargo" class="form-label">
                                            <i class="fas fa-briefcase me-1"></i>
                                            Cargo
                                        </label>
                                        <input type="text" class="form-control" id="cargo" name="cargo">
                                    </div>
                                </div>
                            </div>
                            
                            <div id="camposUfra" class="d-none">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="vinculo" class="form-label">
                                            <i class="fas fa-graduation-cap me-1"></i>
                                            V√≠nculo com a UFRA
                                        </label>
                                        <select class="form-select" id="vinculo" name="vinculo">
                                            <option value="">Selecione</option>
                                            <option value="professor">Professor</option>
                                            <option value="aluno">Aluno</option>
                                            <option value="funcionario">Funcion√°rio</option>
                                            <option value="pesquisador">Pesquisador</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="departamento" class="form-label">
                                            <i class="fas fa-building me-1"></i>
                                            Departamento/Curso
                                        </label>
                                        <input type="text" class="form-control" id="departamento" name="departamento">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Senha -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="senha" class="form-label">
                                        <i class="fas fa-lock me-1"></i>
                                        Senha *
                                    </label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="senha" name="senha" required>
                                        <button class="btn btn-outline-secondary" type="button" id="toggleSenha">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="form-text">
                                        M√≠nimo 8 caracteres, incluindo letras e n√∫meros.
                                    </div>
                                    <div class="invalid-feedback">
                                        Senha deve ter pelo menos 8 caracteres.
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="confirmarSenha" class="form-label">
                                        <i class="fas fa-lock me-1"></i>
                                        Confirmar Senha *
                                    </label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="confirmarSenha" name="confirmarSenha" required>
                                        <button class="btn btn-outline-secondary" type="button" id="toggleConfirmarSenha">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback">
                                        As senhas devem ser iguais.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Indicador de For√ßa da Senha -->
                            <div class="mb-3">
                                <div class="password-strength">
                                    <div class="progress" style="height: 5px;">
                                        <div class="progress-bar" id="passwordStrengthBar" role="progressbar" style="width: 0%"></div>
                                    </div>
                                    <small id="passwordStrengthText" class="form-text text-muted">Digite uma senha</small>
                                </div>
                            </div>
                            
                            <!-- Termos -->
                            <div class="mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="aceitaTermos" name="aceitaTermos" required>
                                    <label class="form-check-label" for="aceitaTermos">
                                        Aceito os <a href="#" class="text-success">termos de uso</a> e 
                                        <a href="#" class="text-success">pol√≠tica de privacidade</a> *
                                    </label>
                                    <div class="invalid-feedback">
                                        Voc√™ deve aceitar os termos para continuar.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="receberNotificacoes" name="receberNotificacoes">
                                    <label class="form-check-label" for="receberNotificacoes">
                                        Desejo receber notifica√ß√µes sobre novas oportunidades de doa√ß√£o
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Bot√µes -->
                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-success btn-lg" id="btnRegistrar">
                                    <i class="fas fa-user-plus me-2"></i>
                                    Criar Conta
                                </button>
                            </div>
                            
                        </form>
                        
                    </div>
                    
                    <!-- Footer -->
                    <div class="card-footer bg-light text-center py-3 border-0">
                        <p class="mb-2 text-muted">J√° tem uma conta?</p>
                        <a href="@Url.Action("Login", "Home")" class="btn btn-outline-success">
                            <i class="fas fa-sign-in-alt me-2"></i>
                            Fazer Login
                        </a>
                    </div>
                    
                </div>
                
                <!-- Links R√°pidos -->
                <div class="text-center mt-4">
                    <a href="@Url.Action("Index", "Home")" class="text-white text-decoration-none me-3">
                        <i class="fas fa-home me-1"></i>
                        Voltar ao In√≠cio
                    </a>
                    <a href="@Url.Action("Sobre", "Home")" class="text-white text-decoration-none">
                        <i class="fas fa-info-circle me-1"></i>
                        Sobre o FeedHope
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>

<!-- Modal de Sucesso -->
<div class="modal fade" id="modalSucesso" tabindex="-1" aria-labelledby="modalSucessoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="modalSucessoLabel">
                    <i class="fas fa-check-circle me-2"></i>
                    Conta Criada com Sucesso!
                </h5>
            </div>
            <div class="modal-body text-center">
                <div class="mb-3">
                    <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                </div>
                <h4>Bem-vindo ao FeedHope!</h4>
                <p class="mb-0">Sua conta foi criada com sucesso. Voc√™ j√° pode fazer login e come√ßar a usar a plataforma.</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-success" onclick="window.location.href='@Url.Action("Login", "Home")'">
                    <i class="fas fa-sign-in-alt me-2"></i>
                    Fazer Login
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/auth.js"></script>
    <script src="~/js/registro.js"></script>
}


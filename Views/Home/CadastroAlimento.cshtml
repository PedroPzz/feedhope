@{
    ViewData["Title"] = "Cadastro de Alimento - FeedHope";
}

<div class="container-fluid py-5" style="background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%); min-height: 100vh;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                
                <!-- Header -->
                <div class="text-center mb-5">
                    <div class="d-inline-flex align-items-center justify-content-center bg-warning rounded-circle mb-3" 
                         style="width: 80px; height: 80px;">
                        <i class="fas fa-apple-alt text-white" style="font-size: 2rem;"></i>
                    </div>
                    <h1 class="h2 text-dark mb-2">Cadastro de Alimento</h1>
                    <p class="text-muted">Registre alimentos dispon√≠veis para doa√ß√£o</p>
                </div>

                <!-- Formul√°rio -->
                <div class="card shadow-lg border-0">
                    <div class="card-header bg-warning text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-plus-circle me-2"></i>
                            Informa√ß√µes do Alimento
                        </h4>
                    </div>
                    <div class="card-body p-4">
                        
                        <!-- Alertas -->
                        <div id="alert-container"></div>
                        
                        <form id="cadastroAlimentoForm" novalidate>
                            
                            <!-- Informa√ß√µes B√°sicas -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-warning border-bottom pb-2 mb-3">
                                        <i class="fas fa-info-circle me-2"></i>
                                        Informa√ß√µes B√°sicas
                                    </h5>
                                </div>
                                
                                <div class="col-md-8 mb-3">
                                    <label for="nomeAlimento" class="form-label">
                                        <i class="fas fa-tag me-1"></i>
                                        Nome do Alimento *
                                    </label>
                                    <input type="text" class="form-control" id="nomeAlimento" name="nomeAlimento" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe o nome do alimento.
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="categoria" class="form-label">
                                        <i class="fas fa-list me-1"></i>
                                        Categoria *
                                    </label>
                                    <select class="form-select" id="categoria" name="categoria" required>
                                        <option value="">Selecione</option>
                                        <option value="frutas">üçé Frutas</option>
                                        <option value="verduras">ü•ï Verduras e Legumes</option>
                                        <option value="paes">üçû P√£es e Padaria</option>
                                        <option value="laticinios">üßÄ Latic√≠nios</option>
                                        <option value="carnes">ü•© Carnes</option>
                                        <option value="cereais">üåæ Cereais e Gr√£os</option>
                                        <option value="conservas">ü•´ Conservas</option>
                                        <option value="bebidas">ü•§ Bebidas</option>
                                        <option value="outros">üì¶ Outros</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione a categoria.
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="quantidade" class="form-label">
                                        <i class="fas fa-weight-hanging me-1"></i>
                                        Quantidade *
                                    </label>
                                    <input type="number" class="form-control" id="quantidade" name="quantidade" 
                                           min="1" step="0.1" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe a quantidade.
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="unidade" class="form-label">
                                        <i class="fas fa-balance-scale me-1"></i>
                                        Unidade *
                                    </label>
                                    <select class="form-select" id="unidade" name="unidade" required>
                                        <option value="">Selecione</option>
                                        <option value="kg">Quilogramas (kg)</option>
                                        <option value="g">Gramas (g)</option>
                                        <option value="l">Litros (l)</option>
                                        <option value="ml">Mililitros (ml)</option>
                                        <option value="unidade">Unidades</option>
                                        <option value="caixa">Caixas</option>
                                        <option value="pacote">Pacotes</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione a unidade.
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="estado" class="form-label">
                                        <i class="fas fa-check-circle me-1"></i>
                                        Estado do Alimento *
                                    </label>
                                    <select class="form-select" id="estadoAlimento" name="estadoAlimento" required>
                                        <option value="">Selecione</option>
                                        <option value="otimo">üü¢ √ìtimo</option>
                                        <option value="bom">üü° Bom</option>
                                        <option value="proximo_vencimento">üü† Pr√≥ximo ao Vencimento</option>
                                        <option value="vencido_consumivel">üî¥ Vencido mas Consum√≠vel</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione o estado do alimento.
                                    </div>
                                </div>
                            </div>

                            <!-- Datas -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-warning border-bottom pb-2 mb-3">
                                        <i class="fas fa-calendar me-2"></i>
                                        Datas
                                    </h5>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="dataProducao" class="form-label">
                                        <i class="fas fa-calendar-plus me-1"></i>
                                        Data de Produ√ß√£o
                                    </label>
                                    <input type="date" class="form-control" id="dataProducao" name="dataProducao">
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="dataVencimento" class="form-label">
                                        <i class="fas fa-calendar-times me-1"></i>
                                        Data de Vencimento
                                    </label>
                                    <input type="date" class="form-control" id="dataVencimento" name="dataVencimento">
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="dataDisponibilidade" class="form-label">
                                        <i class="fas fa-calendar-check me-1"></i>
                                        Dispon√≠vel at√© *
                                    </label>
                                    <input type="date" class="form-control" id="dataDisponibilidade" name="dataDisponibilidade" required>
                                    <div class="invalid-feedback">
                                        Por favor, informe at√© quando o alimento estar√° dispon√≠vel.
                                    </div>
                                </div>
                            </div>

                            <!-- Localiza√ß√£o -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-warning border-bottom pb-2 mb-3">
                                        <i class="fas fa-map-marker-alt me-2"></i>
                                        Localiza√ß√£o para Coleta
                                    </h5>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="empresaOrigem" class="form-label">
                                        <i class="fas fa-building me-1"></i>
                                        Empresa/Local *
                                    </label>
                                    <select class="form-select" id="empresaOrigem" name="empresaOrigem" required>
                                        <option value="">Selecione a empresa</option>
                                        <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione a empresa de origem.
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="setor" class="form-label">
                                        <i class="fas fa-map me-1"></i>
                                        Setor/Departamento
                                    </label>
                                    <input type="text" class="form-control" id="setor" name="setor" 
                                           placeholder="Ex: Hortifruti, Padaria, Estoque">
                                </div>
                                
                                <div class="col-12 mb-3">
                                    <label for="observacoesColeta" class="form-label">
                                        <i class="fas fa-clipboard me-1"></i>
                                        Observa√ß√µes para Coleta
                                    </label>
                                    <textarea class="form-control" id="observacoesColeta" name="observacoesColeta" rows="2" 
                                              placeholder="Instru√ß√µes especiais, hor√°rios preferenciais, localiza√ß√£o espec√≠fica, etc."></textarea>
                                </div>
                            </div>

                            <!-- Condi√ß√µes de Armazenamento -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-warning border-bottom pb-2 mb-3">
                                        <i class="fas fa-thermometer-half me-2"></i>
                                        Condi√ß√µes de Armazenamento
                                    </h5>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="temperatura" class="form-label">
                                        <i class="fas fa-temperature-low me-1"></i>
                                        Temperatura *
                                    </label>
                                    <select class="form-select" id="temperatura" name="temperatura" required>
                                        <option value="">Selecione</option>
                                        <option value="ambiente">üå°Ô∏è Ambiente (15-27¬∞C)</option>
                                        <option value="refrigerado">‚ùÑÔ∏è Refrigerado (2-8¬∞C)</option>
                                        <option value="congelado">üßä Congelado (-18¬∞C)</option>
                                        <option value="seco">üåµ Local Seco</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione a temperatura de armazenamento.
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="embalagem" class="form-label">
                                        <i class="fas fa-box me-1"></i>
                                        Tipo de Embalagem
                                    </label>
                                    <select class="form-select" id="embalagem" name="embalagem">
                                        <option value="">Selecione</option>
                                        <option value="original">üì¶ Embalagem Original</option>
                                        <option value="plastica">üõçÔ∏è Embalagem Pl√°stica</option>
                                        <option value="caixa">üì¶ Caixa de Papel√£o</option>
                                        <option value="saco">üõçÔ∏è Saco Pl√°stico</option>
                                        <option value="granel">üåæ A Granel</option>
                                        <option value="outro">üìã Outro</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="prioridade" class="form-label">
                                        <i class="fas fa-exclamation-triangle me-1"></i>
                                        Prioridade de Coleta *
                                    </label>
                                    <select class="form-select" id="prioridade" name="prioridade" required>
                                        <option value="">Selecione</option>
                                        <option value="baixa">üü¢ Baixa (7+ dias)</option>
                                        <option value="media">üü° M√©dia (3-7 dias)</option>
                                        <option value="alta">üü† Alta (1-3 dias)</option>
                                        <option value="urgente">üî¥ Urgente (hoje)</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Por favor, selecione a prioridade.
                                    </div>
                                </div>
                            </div>

                            <!-- Destina√ß√£o Sugerida -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-warning border-bottom pb-2 mb-3">
                                        <i class="fas fa-route me-2"></i>
                                        Destina√ß√£o Sugerida
                                    </h5>
                                </div>
                                
                                <div class="col-12 mb-3">
                                    <label class="form-label">
                                        <i class="fas fa-bullseye me-1"></i>
                                        Uso Recomendado *
                                    </label>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="consumo_humano" 
                                                       id="consumo_humano" name="usoRecomendado">
                                                <label class="form-check-label" for="consumo_humano">
                                                    <i class="fas fa-utensils text-success me-1"></i> Consumo Humano
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="alimentacao_animal" 
                                                       id="alimentacao_animal" name="usoRecomendado">
                                                <label class="form-check-label" for="alimentacao_animal">
                                                    <i class="fas fa-paw text-warning me-1"></i> Alimenta√ß√£o Animal
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="compostagem" 
                                                       id="compostagem" name="usoRecomendado">
                                                <label class="form-check-label" for="compostagem">
                                                    <i class="fas fa-seedling text-success me-1"></i> Compostagem
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="pesquisa" 
                                                       id="pesquisa" name="usoRecomendado">
                                                <label class="form-check-label" for="pesquisa">
                                                    <i class="fas fa-microscope text-info me-1"></i> Pesquisa
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="biogas" 
                                                       id="biogas" name="usoRecomendado">
                                                <label class="form-check-label" for="biogas">
                                                    <i class="fas fa-fire text-danger me-1"></i> Produ√ß√£o de Biog√°s
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback">
                                        Por favor, selecione pelo menos um uso recomendado.
                                    </div>
                                </div>
                                
                                <div class="col-12 mb-3">
                                    <label for="observacoesGerais" class="form-label">
                                        <i class="fas fa-comment me-1"></i>
                                        Observa√ß√µes Gerais
                                    </label>
                                    <textarea class="form-control" id="observacoesGerais" name="observacoesGerais" rows="3" 
                                              placeholder="Informa√ß√µes adicionais sobre o alimento, restri√ß√µes, cuidados especiais, etc."></textarea>
                                </div>
                            </div>

                            <!-- Bot√µes -->
                            <div class="row">
                                <div class="col-12 text-center">
                                    <button type="button" class="btn btn-outline-secondary btn-lg me-3" onclick="history.back()">
                                        <i class="fas fa-arrow-left me-2"></i>
                                        Voltar
                                    </button>
                                    <button type="submit" class="btn btn-warning btn-lg" id="btnCadastrar">
                                        <i class="fas fa-save me-2"></i>
                                        Cadastrar Alimento
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Sucesso -->
<div class="modal fade" id="modalSucesso" tabindex="-1" aria-labelledby="modalSucessoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title" id="modalSucessoLabel">
                    <i class="fas fa-check-circle me-2"></i>
                    Alimento Cadastrado com Sucesso!
                </h5>
            </div>
            <div class="modal-body text-center">
                <div class="mb-3">
                    <i class="fas fa-check-circle text-warning" style="font-size: 4rem;"></i>
                </div>
                <h4>Alimento Registrado!</h4>
                <p class="mb-0">O alimento foi cadastrado e est√° dispon√≠vel para coleta pela UFRA.</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-warning" onclick="window.location.href='@Url.Action("Index", "Home")'">
                    <i class="fas fa-home me-2"></i>
                    Ir para In√≠cio
                </button>
                <button type="button" class="btn btn-outline-warning" onclick="clearForm(); $('#modalSucesso').modal('hide');">
                    <i class="fas fa-plus me-2"></i>
                    Cadastrar Outro
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/cadastro-alimento.js"></script>
}

